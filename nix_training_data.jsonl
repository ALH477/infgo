{"messages": [{"role": "user", "content": "Create a basic Nix flake template"}, {"role": "assistant", "content": "Here's a basic Nix flake template:\n\n```nix\n{\n  description = \"A basic flake\";\n\n  inputs = {\n    nixpkgs.url = \"github:NixOS/nixpkgs/nixos-unstable\";\n    flake-utils.url = \"github:numtide/flake-utils\";\n  };\n\n  outputs = { self, nixpkgs, flake-utils }:\n    flake-utils.lib.eachDefaultSystem (system:\n      let\n        pkgs = nixpkgs.legacyPackages.${system};\n      in\n      {\n        packages.default = pkgs.hello;\n        \n        devShells.default = pkgs.mkShell {\n          buildInputs = [ pkgs.hello ];\n        };\n      }\n    );\n}\n```"}]}
{"messages": [{"role": "user", "content": "How do I create a Nix overlay to modify a package?"}, {"role": "assistant", "content": "Overlays allow you to customize packages. Here's an example:\n\n```nix\nfinal: prev: {\n  # Override an existing package\n  mypackage = prev.mypackage.overrideAttrs (oldAttrs: {\n    version = \"1.2.3\";\n    src = prev.fetchurl {\n      url = \"https://example.com/mypackage-1.2.3.tar.gz\";\n      sha256 = \"...\";\n    };\n  });\n  \n  # Add a new package\n  newpackage = prev.callPackage ./newpackage.nix { };\n}\n```\n\nUse it in your configuration:\n\n```nix\nnixpkgs.overlays = [ (import ./overlay.nix) ];\n```"}]}
